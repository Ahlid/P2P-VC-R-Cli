download.file(url='http://localhost:8081/job/fce2627b-648e-4486-b8f0-914b7fb5de9a/data',
destfile='fce2627b-648e-4486-b8f0-914b7fb5de9a.RData')
download.file(url='http://localhost:8081/job/fce2627b-648e-4486-b8f0-914b7fb5de9a/data',
destfile='fce2627b-648e-4486-b8f0-914b7fb5de9a.RData')
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
load("~/f1f624e2-33e7-468d-8e49-266be8d7586c.RData")
download.file(url='http://localhost:8081/job/f1f624e2-33e7-468d-8e49-266be8d7586c/data',
destfile='fce2627b-648e-4486-b8f0-914b7fb5de9a.RData')
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
download.file(url='http://localhost:8081/job/1a80e3a1-d2de-4725-9ed8-379b61dda5cf/data',
destfile='fce2627b-648e-4486-b8f0-914b7fb5de9a.RData')
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
?load
?save.image
a <-
sa
a <- 4
save.image("~/lk.RData")
load("~/lk.RData")
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
load("~/P2P-VC-R-Cli/f96072a5-9899-4cc5-af2a-30992f5dd224_input.RData")
load("~/P2P-VC-Market/files/data/f96072a5-9899-4cc5-af2a-30992f5dd224_input.RData")
download.file(url='http://localhost:8081/job/f96072a5-9899-4cc5-af2a-30992f5dd224/data',
destfile='fce2627b-648e-4486-b8f0-914b7fb5de9a.RData')
load("~/P2P-VC-Market/files/data/f96072a5-9899-4cc5-af2a-30992f5dd224_input.RData")
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
download.file(url='http://localhost:8081/job/f96072a5-9899-4cc5-af2a-30992f5dd224/data',
destfile='fce2627b-648e-4486-b8f0-914b7fb5de9a.RData',  method='curl)
d
dsa
)
)
)
}
;
#
adas
""
''
e
:
'
download.file(url='http://localhost:8081/job/f96072a5-9899-4cc5-af2a-30992f5dd224/data',
destfile='fce2627b-648e-4486-b8f0-914b7fb5de9a.RData',  method='curl' )
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
?
rm
rm(list = ls())
load("~/fce2627b-648e-4486-b8f0-914b7fb5de9a.RData")
rm(list = ls())
download.file(url='http://localhost:8081/job/e09d3ddb-b955-4014-a4a4-ef67d56acde3/data',
destfile='e09d3ddb-b955-4014-a4a4-ef67d56acde3.RData',  method='curl' )
load("~/e09d3ddb-b955-4014-a4a4-ef67d56acde3.RData")
load("~/P2P-VC-Market/files/output/df3cd351-0b5a-493a-a380-d2445b17491b_out.RData")
download.file(
url = paste(base_url, '/job/', id, '/output', sep = ''),
destfile = paste(id, '_out', 'RData', sep = '.'),
method = 'curl'
)
id <- 'df3cd351-0b5a-493a-a380-d2445b17491b'
download.file(
url = paste(base_url, '/job/', id, '/output', sep = ''),
destfile = paste(id, '_out', 'RData', sep = '.'),
method = 'curl'
)
load(paste(id, '_out', 'RData', sep = '.'))
?rm
rm(list = ls())
id <- 'df3cd351-0b5a-493a-a380-d2445b17491b'
download.file(
url = paste(base_url, '/job/', id, '/output', sep = ''),
destfile = paste(id, '_out', 'RData', sep = '.'),
method = 'curl'
)
base_url <- 'http://localhost:8081'
download.file(
url = paste(base_url, '/job/', id, '/output', sep = ''),
destfile = paste(id, '_out', 'RData', sep = '.'),
method = 'curl'
)
load(paste(id, '_out', 'RData', sep = '.'))
download.file(
url = paste(base_url, '/job/', id, '/output', sep = ''),
destfile = paste(id, '_out', 'RData', sep = '.'),
method = 'curl'
)
load(paste(id, '_out', 'RData', sep = '.'))
install.packages("RPostgres")
library("DBI")
con <- dbConnect(RPostgres::Postgres(), dbname = "vendiot_timescale",
host = "localhost",
user = "postgres")
dbListTables(con)
count_sales_query <- dbSendQuery(con, "select distinct on (bucket) bucket, amount
from teste
group by bucket, amount;")
count_sales_train <- dbFetch(count_sales_query)
dbClearResult(count_sales_query)
head(count_sales_train)
install.packages("xts")
library("xts")
View(count_sales_train)
xts_count_sales <- xts(count_sales_train$amount, order.by = as.POSIXct(count_sales_train$bucket, format = "%Y-%m-%d %H:%M:%S"))
attr(xts_count_rides, 'frequency') <- 168
attr(xts_count_sales, 'frequency') <- 168
install.packages("forecast")
library("forecast")
View(xts_count_sales[,1])
fit <- auto.arima(xts_count_sales[,1], D = 1, seasonal = TRUE)
summary(fit)
fcast <- forecast(fit, h=168)
plot(fcast, include = 168, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
ticks <- seq(3, 5, 1/7)
dates <- seq(as.Date("2016-01-15"), as.Date("2016-01-29"), by="days")
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
legend('topleft', legend=c("Observed Value", "Predicted Value"), col=c("red", "blue"), lwd=c(2.5,2.5))
plot(fcast, include = 168, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
ticks <- seq(3, 5, 1/7)
dates <- seq(as.Date("2016-01-15"), as.Date("2016-01-29"), by="days")
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
legend('topleft', legend=c("Observed Value", "Predicted Value"), col=c("red", "blue"), lwd=c(2.5,2.5))
plot(fcast, include = 168, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
ticks <- seq(3, 5, 1/7)
dates <- seq(as.Date("2016-01-15"), as.Date("2016-01-29"), by="days")
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
legend('topleft', legend=c("Observed Value", "Predicted Value"), col=c("red", "blue"), lwd=c(2.5,2.5))
plot(fcast, include = 168, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
plot(fcast, include = 168, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
warnings()
ticks <- seq(3, 5, 1/7)
dates <- seq(as.Date("2017-06-15"), as.Date("2017-06-29"), by="days")
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
plot(fcast, include = 20, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
plot(fcast, include = 10, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
plot(fcast, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
fcast
xts_count_sales <- xts(count_sales_train$amount, order.by = as.POSIXct(count_sales_train$bucket, format = "%Y-%m-%d %H:%M:%S"))
xts_count_sales
xts_count_sales <- xts(count_sales_train$amount, order.by = as.POSIXct(count_sales_train$bucket, format = "%Y-%m-%d %H:%M:%S"))
count_sales_train$amount
attr(xts_count_sales, 'frequency') <- 7
xts_count_sales
xts_count_sales <- xts(count_sales_train$amount, order.by = as.POSIXct(count_sales_train$bucket, format = "%Y-%m-%d"))
xts_count_sales
xts_count_sales <- xts(count_sales_train$amount, order.by = as.POSIXct(count_sales_train$bucket, format = "%Y-%m-%d"))
attr(xts_count_sales, 'frequency') <- 24
xts_count_sales
fit
summary(fit)
fit <- auto.arima(count_sales_train [,1], D = 1, seasonal = TRUE)
count_sales_train
count_sales_train [,1]
count_sales_train [,2]
fit <- auto.arima(count_sales_train [,2], D = 1, seasonal = TRUE)
summary(fit)
fit <- auto.arima(count_sales_train [,2], D = 1, seasonal = TRUE)
xts_count_rides <- xts(count_sales_train$amount, order.by = as.POSIXct(count_sales_train$bucket, format = "%Y-%m-%d %H:%M:%S"))
fit
xts_count_rides
head(xts_count_rides)
summary(count_sales_train)
?xts
xts_count_rides <- xts(count_sales_train$amount, order.by = count_sales_train$bucket )
xts_count_rides
xts_count_rides <- xts(count_sales_train$amount, order.by = count_sales_train$bucket, frequency=2 )
xts_count_rides
xts_count_rides <- xts(count_sales_train$amount, order.by = count_sales_train$bucket, frequency=200 )
xts_count_rides
xts_count_rides <- xts(count_sales_train$amount, order.by = count_sales_train$bucket, frequency=20000000 )
xts_count_rides
x <- as.xts(count_sales_train)
fit <- auto.arima(count_sales_train[,2], D = 1, seasonal = TRUE)
count_sales_train[,2]
fit <- auto.arima(count_sales_train[,2], D = 1, seasonal = TRUE)
fit <- auto.arima(count_sales_train[,2], D = 1, seasonal = TRUE)
fit
count_sales_train$bucket = as.Date(count_sales_train$bucket)
summary(count_sales_train)
View(count_sales_train)
ggplot(daily_data, aes(bucket, amount)) + geom_line() + scale_x_date('month')  + ylab("Daily Bike Checkouts") +
xlab("")
library(ggplot2)
ggplot(daily_data, aes(bucket, amount)) + geom_line() + scale_x_date('month')  + ylab("Daily Bike Checkouts") +
xlab("")
ggplot(count_sales_train, aes(bucket, amount)) + geom_line() + scale_x_date('month')  + ylab("Daily Bike Checkouts") +
xlab("")
ggplot(count_sales_train, aes(bucket, as.integer(amount))) + geom_line() + scale_x_date('month')  + ylab("Daily Bike Checkouts") +
xlab("")
ggplot(count_sales_train, aes(bucket, as.integer(amount))) + geom_line() + scale_x_date('month')  + ylab("Monthly Sales") +
xlab("")
count_sales_train$amount = as.integer(count_sales_train$amount)
xts_count_rides <- xts(count_sales_train$amount, order.by = count_sales_train$bucket)
xts_count_rides
attr(xts_count_rides, 'frequency') <- 168
fit <- auto.arima(xts_count_rides[,1], D = 1, seasonal = TRUE)
summary(fit)
fcast <- forecast(fit, h=168)
fcast
plot(fcast, include = 168, main="Taxicab Pickup Count in Times Square by Time", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
ticks <- seq(3, 5, 1/7)
dates <- seq(as.Date("2016-01-15"), as.Date("2016-01-29"), by="days")
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
legend('topleft', legend=c("Observed Value", "Predicted Value"), col=c("red", "blue"), lwd=c(2.5,2.5))
plot(fcast, include = 168, main="Number of Sales Prediction", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
ticks <- seq(3, 5, 1/7)
dates <- seq(as.Date("2016-01-15"), as.Date("2016-01-29"), by="days")
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
legend('topleft', legend=c("Observed Value", "Predicted Value"), col=c("red", "blue"), lwd=c(2.5,2.5))
plot(fcast, include = 168, main="Number of Sales Prediction", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
ticks <- seq(3, 5, 1/7)
dates <- seq(as.Date("2017-01-15"), as.Date("2019-01-29"), by="days")
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
legend('topleft', legend=c("Observed Value", "Predicted Value"), col=c("red", "blue"), lwd=c(2.5,2.5))
plot(fcast, include = 168, main="Number of Sales Prediction", xlab="Date", ylab="Pickup Count", xaxt="n", col="red", fcol="blue")
ticks <- seq(3, 5, 1/7)
dates <- format(dates, "%m-%d %H:%M")
axis(1, at=ticks, labels=dates)
legend('topleft', legend=c("Observed Value", "Predicted Value"), col=c("red", "blue"), lwd=c(2.5,2.5))
rm(list = ls())
library(httr)
library(jsonlite)
library(plumber)
library(future)
library(tcltk2)
library(httr)
library(jsonlite)
library(plumber)
library(future)
library(tcltk2)
.remotIST <- new.env()
source('./config.R')
source('./auth.R')
source('./machine.R')
source('./job.R')
source('./volunteer.R')
setwd("~/P2P-VC-R-Cli")
library(httr)
library(jsonlite)
library(plumber)
library(future)
library(tcltk2)
.remotIST <- new.env()
source('./config.R')
source('./auth.R')
source('./machine.R')
source('./job.R')
source('./volunteer.R')
1
login("test@gmil.com","asdasd123")
login("test@gmil.com","asdasd123")
listMachines()
addJob("my_test_partial",'fibonacci.R',NULL, NULL, NULL, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
?attr
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
library(httr)
library(jsonlite)
library(plumber)
library(future)
library(tcltk2)
.remotIST <- new.env()
source('./config.R')
source('./auth.R')
source('./machine.R')
source('./job.R')
source('./volunteer.R')
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer <- function(machineId, port) {
body <- list(port = port)
r <-
POST(
paste(
base_url,
paste("/machine/{", machineId, "}/startVolunteer", sep = ''),
sep = ''
),
add_headers(Authorization = paste('Bearer', user_session_token)),
body = body,
enconde = 'json'
)
if (r$status_code == 200) {
token <- fromJSON(content(r, "text"), flatten = TRUE)
v %<-% {
## healthz function o keep alive
alive <- function() {
print('hz')
tryCatch({
GET(
paste(base_url, "/volunteer/healthz", sep = ''),
add_headers(Authorization = paste('Bearer', token)),
enconde = 'json'
)
}, error = function(error_condition) {
print(error_condition)
})
}  # replace with your function
tclTaskSchedule(5000, alive, id = "alive", redo = TRUE)
}
assign("volunteer_session_token", token$token, .GlobalEnv)
print("Logged in.")
r <- plumb("volunteerREST.R")
assign("server", r, .GlobalEnv)
r$registerHook('exit',  function(req) {
print("hz stopped")
tclTaskDelete("alive")
})
r$run(port = port)
}
}
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer <- function(machineId, port) {
body <- list(port = port)
r <-
POST(
paste(
base_url,
paste("/machine/{", machineId, "}/startVolunteer", sep = ''),
sep = ''
),
add_headers(Authorization = paste('Bearer', user_session_token)),
body = body,
enconde = 'json'
)
if (r$status_code == 200) {
token <- fromJSON(content(r, "text"), flatten = TRUE)
v %<-% {
## healthz function o keep alive
alive <- function() {
print('hz')
tryCatch({
GET(
paste(base_url, "/volunteer/healthz", sep = ''),
add_headers(Authorization = paste('Bearer', token)),
enconde = 'json'
)
}, error = function(error_condition) {
print(error_condition)
})
}  # replace with your function
assign("alive", alive, .GlobalEnv)
tclTaskSchedule(5000, alive, id = "alive", redo = TRUE)
}
assign("volunteer_session_token", token$token, .GlobalEnv)
print("Logged in.")
r <- plumb("volunteerREST.R")
assign("server", r, .GlobalEnv)
r$registerHook('exit',  function(req) {
print("hz stopped")
tclTaskDelete("alive")
})
r$run(port = port)
}
}
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer <- function(machineId, port) {
body <- list(port = port)
r <-
POST(
paste(
base_url,
paste("/machine/{", machineId, "}/startVolunteer", sep = ''),
sep = ''
),
add_headers(Authorization = paste('Bearer', user_session_token)),
body = body,
enconde = 'json'
)
if (r$status_code == 200) {
token <- fromJSON(content(r, "text"), flatten = TRUE)
## healthz function o keep alive
alive <- function() {
print('hz')
tryCatch({
GET(
paste(base_url, "/volunteer/healthz", sep = ''),
add_headers(Authorization = paste('Bearer', token)),
enconde = 'json'
)
}, error = function(error_condition) {
print(error_condition)
})
}  # replace with your function
assign("alive", alive, .GlobalEnv)
tclTaskSchedule(5000, alive, id = "alive", redo = TRUE)
assign("volunteer_session_token", token$token, .GlobalEnv)
print("Logged in.")
r <- plumb("volunteerREST.R")
assign("server", r, .GlobalEnv)
r$registerHook('exit',  function(req) {
print("hz stopped")
tclTaskDelete("alive")
})
r$run(port = port)
}
}
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer <- function(machineId, port) {
body <- list(port = port)
r <-
POST(
paste(
base_url,
paste("/machine/{", machineId, "}/startVolunteer", sep = ''),
sep = ''
),
add_headers(Authorization = paste('Bearer', user_session_token)),
body = body,
enconde = 'json'
)
if (r$status_code == 200) {
token <- fromJSON(content(r, "text"), flatten = TRUE)
## healthz function o keep alive
alive <- function() {
print('hz')
tryCatch({
GET(
paste(base_url, "/volunteer/healthz", sep = ''),
add_headers(Authorization = paste('Bearer', token)),
enconde = 'json'
)
}, error = function(error_condition) {
print(error_condition)
})
}  # replace with your function
assign("alive", alive, .GlobalEnv)
tclTaskSchedule(5000, alive(), id = "alive", redo = TRUE)
assign("volunteer_session_token", token$token, .GlobalEnv)
print("Logged in.")
r <- plumb("volunteerREST.R")
assign("server", r, .GlobalEnv)
r$registerHook('exit',  function(req) {
print("hz stopped")
tclTaskDelete("alive")
})
v %<-% {
r$run(port = port)
}
}
}
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer <- function(machineId, port) {
body <- list(port = port)
r <-
POST(
paste(
base_url,
paste("/machine/{", machineId, "}/startVolunteer", sep = ''),
sep = ''
),
add_headers(Authorization = paste('Bearer', user_session_token)),
body = body,
enconde = 'json'
)
if (r$status_code == 200) {
token <- fromJSON(content(r, "text"), flatten = TRUE)
## healthz function o keep alive
alive <- function() {
print('hz')
tryCatch({
GET(
paste(base_url, "/volunteer/healthz", sep = ''),
add_headers(Authorization = paste('Bearer', token)),
enconde = 'json'
)
}, error = function(error_condition) {
print(error_condition)
})
}  # replace with your function
assign("alive", alive, .GlobalEnv)
tclTaskSchedule(5000, alive(), id = "alive", redo = TRUE)
assign("volunteer_session_token", token$token, .GlobalEnv)
print("Logged in.")
r <- plumb("volunteerREST.R")
assign("server", r, .GlobalEnv)
r$registerHook('exit',  function(req) {
print("hz stopped")
tclTaskDelete("alive")
})
r$run(port = port)
}
}
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',1234)
addJob("my_test_partial",'fibonacci.R', 0, 0, 0, 1000, "2019-08-08 15:15:15", paste(getwd(),'/fibonacci/', sep = ""))
startVolunteer('2dd34e15-27ce-44f0-aa7a-1c6e6deea987',12345)
